<form [formGroup]="form" class="form">
  <span class="message">Preencha o o formulário corretamente para cadastrar ou atualizar os dados de um usuário.</span>

  <mat-form-field appearance="outline">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="name">
    <mat-error *ngIf="form.get('name')?.invalid">Nome inválido</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>E-mail</mat-label>
    <input matInput formControlName="email">
    <mat-error *ngIf="form.get('email')?.invalid">E-mail inválido</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>CPF</mat-label>
    <input matInput type="text" formControlName="cpf" mask="000.000.000-00" placeholder="000.000.000-00">
    <mat-error *ngIf="form.get('cpf')?.invalid">CPF inválido</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Telefone</mat-label>
    <input matInput type="text" formControlName="phone" mask="(00) 00000-0000" placeholder="(00) 00000-0000">
    <mat-error *ngIf="form.get('phone')?.invalid">Telefone inválido inválido</mat-error>
  </mat-form-field>

  <button class="custom" mat-raised-button [disabled]="form.invalid" (click)="save()">
    <span *ngIf="!loading; else loader">
      {{userId ? 'Salvar' : 'Cadastrar'}}
    </span>
    <ng-template #loader>
      <mat-spinner [diameter]="20"></mat-spinner>
    </ng-template>
  </button>
</form>
